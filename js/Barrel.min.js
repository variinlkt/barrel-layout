"use strict";var _createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}return function(i,e,a){if(e)t(i.prototype,e);if(a)t(i,a);return i}}();function _classCallCheck(t,i){if(!(t instanceof i)){throw new TypeError("Cannot call a class as a function")}}var Barrel=function(){function t(i){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9.5;_classCallCheck(this,t);this.ct=i;this.baseNum=a;this.baseHeight=this.ct.offsetWidth/this.baseNum||e;this.maxWidth=i.offsetWidth;this.lastRowWidth=0;this.imgList=[];this.data=[];this.bind();this.imgArr=[]}_createClass(t,[{key:"createImg",value:function t(i){var e=this;var a=0;if(this.data.length==0){for(var s in i){this.data.push(i[s])}}var h=function t(i){var s={};s[i]=new Image;s[i].onload=function(){var t=s[i].height;var h=s[i].width;var n=h/t;var r={self:s[i],width:e.baseHeight*n,height:e.baseHeight};e.render(r,a);a++};s[i].src=e.data[i]};for(var n in this.data){h(n)}}},{key:"render",value:function t(i,e){var a=this.baseHeight,s=0,h=i,n=[];this.imgList.push(i);for(var r in this.imgList){s+=this.imgList[r].width;if(this.maxWidth<s){this.imgList.pop();s-=h.width;a=this.maxWidth*this.baseHeight/s;this.createRow(a);this.imgList=[];this.imgList.push(h)}}if(e===this.data.length-1&&this.imgList.length!=0){n=this.imgList;for(var d in n){s+=this.imgList[d].width;a=this.maxWidth*this.baseHeight/s}this.createRow(a);this.lastRowWidth=s}}},{key:"createRow",value:function t(i){var e=document.createElement("li"),a=document.createElement("div");a.style.height=i+"px";for(var s in this.imgList){var h=this.imgList[s].self;h.style.height=i+"px";a.appendChild(h);e.appendChild(a)}this.ct.appendChild(e)}},{key:"bind",value:function t(){var i=this;window.addEventListener("resize",function(){i.ct.innerHTML="";i.maxWidth=i.ct.offsetWidth;i.lastRowWidth=0;i.imgList=[];i.baseHeight=i.ct.offsetWidth/i.baseNum;i.createImg(i.data)})}}]);return t}();